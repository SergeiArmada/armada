<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Персональная книга рецептов - Маргарита</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
:root{
  --primary-warm:#6b5d56;--secondary-warm:#8b7468;--accent-soft:#d4b5a0;--accent-light:#f0e8e0;
  --bg-cream:#fdfcfb;--bg-soft:#faf8f5;--text-main:#3a3a3a;--text-soft:#8a756b;
  --success:#7fb069;--energy:#f4a261;--calm:#a8dadc;
}
body{
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Inter',sans-serif;font-weight:400;line-height:1.6;
  color:var(--text-main);background:var(--bg-cream);font-size:17px;-webkit-font-smoothing:antialiased;
  padding-bottom:env(safe-area-inset-bottom);
}
.container{max-width:450px;margin:0 auto;background:#fff;min-height:100vh}

/* Шапка/навигация */
.nav-header{
  position:sticky;top:0;background:rgba(255,255,255,.95);backdrop-filter:blur(10px);
  border-bottom:1px solid var(--accent-light);z-index:10000;
}
.nav-toggle{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;cursor:pointer;position:relative}
.nav-title{font-size:14px;font-weight:500;letter-spacing:.5px;color:var(--secondary-warm);text-transform:uppercase}
.nav-icon{width:24px;height:24px;display:flex;flex-direction:column;justify-content:center;gap:4px;transition:.3s}
.nav-icon span{width:100%;height:2px;background:var(--secondary-warm);transition:.3s}
.nav-icon.active span:first-child{transform:rotate(45deg) translate(3px,3px)}
.nav-icon.active span:last-child{transform:rotate(-45deg) translate(3px,-3px)}
.nav-content{max-height:0;overflow:hidden;transition:max-height .3s ease;background:#fff;border-bottom:1px solid var(--accent-light)}
.nav-content.active{max-height:60vh;overflow-y:auto}
.nav-list{padding:10px 0}
.nav-item{display:flex;align-items:center;padding:14px 20px;cursor:pointer;transition:.2s;border-bottom:1px solid rgba(240,232,224,.5)}
.nav-item:last-child{border-bottom:none}
.nav-item:active{background:var(--bg-soft)}
.nav-recipe-name{flex:1;font-size:15px;color:var(--text-main);font-weight:400}
.nav-badge{font-size:11px;padding:3px 10px;border-radius:12px;background:var(--accent-light);color:var(--secondary-warm);text-transform:uppercase;letter-spacing:.5px;font-weight:500}

/* Секции */
.section{padding:30px 20px;border-bottom:1px solid var(--accent-light)}
.section:last-child{border-bottom:none}

/* Обложка */
.cover{text-align:center;padding:60px 20px;background:linear-gradient(135deg,#fff 0%,var(--bg-soft) 100%)}
.cover-month{font-size:11px;letter-spacing:2px;text-transform:uppercase;color:var(--text-soft);margin-bottom:30px}
.cover-name{font-family:Georgia,'Times New Roman',serif;font-size:48px;font-weight:300;color:var(--primary-warm);margin-bottom:30px;line-height:1}
.cover-subtitle{font-size:13px;letter-spacing:1px;color:var(--text-soft);margin-bottom:40px}
.progress-dots{display:flex;gap:8px;justify-content:center;margin-bottom:30px}
.progress-dot{width:8px;height:8px;border-radius:50%;background:var(--accent-light)}
.progress-dot.active{background:var(--accent-soft);transform:scale(1.3)}
.cover-curator{font-size:11px;color:#c5b4a8;letter-spacing:1px}

/* Письмо */
.letter{background:linear-gradient(to bottom,#fff,var(--bg-soft));padding:40px 25px}
.letter-icon{font-size:28px;margin-bottom:20px;opacity:.6}
.letter-content{font-family:Georgia,'Times New Roman',serif;font-size:19px;line-height:1.7;color:var(--primary-warm)}
.letter-content p{margin-bottom:20px}
.letter-signature{margin-top:30px;font-family:Georgia,'Times New Roman',serif;font-size:22px;color:var(--secondary-warm);font-style:italic}

/* Рецепты */
.recipe{padding:0;border-bottom:1px solid var(--accent-light)}
.recipe.selected{outline:2px solid var(--accent-soft);outline-offset:-2px}
.recipe-image{width:100%;height:220px;position:relative;background:repeating-linear-gradient(45deg,#f5f0ea,#f5f0ea 10px,#e8ddd5 10px,#e8ddd5 20px)}
.recipe-image img{width:100%;height:100%;object-fit:cover;display:block}
.recipe-content{padding:25px 20px}
.recipe-title{font-family:Georgia,'Times New Roman',serif;font-size:24px;font-weight:400;color:var(--primary-warm);margin-bottom:10px;line-height:1.1;letter-spacing:-.3px}
.recipe-meta{display:flex;gap:12px;font-size:13px;color:var(--secondary-warm);margin-bottom:8px;flex-wrap:wrap;align-items:center}

/* РЯД КНОПОК ПОД МЕТОЙ */
.recipe-actions{display:flex;gap:8px;margin-top:8px}
.timer-button,.add-to-plan{display:inline-flex;align-items:center;gap:4px;background:var(--accent-light);padding:5px 10px;border-radius:12px;font-size:12px;color:var(--secondary-warm);cursor:pointer;border:1px solid transparent;transition:.2s}
.timer-button:hover,.add-to-plan:hover{border-color:var(--accent-soft)}
.timer-button:active,.add-to-plan:active{transform:scale(.95)}
.add-to-plan.selected{background:var(--success);color:#fff}

.health-benefits{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0 20px}
.benefit-tag{display:inline-flex;align-items:center;gap:6px;background:#fff;padding:5px 12px;border-radius:15px;font-size:11px;letter-spacing:.3px;text-transform:uppercase;color:var(--secondary-warm);border:1px solid var(--accent-light)}
.benefit-tag::before{content:'';width:4px;height:4px;background:var(--accent-soft);border-radius:50%}

.recipe-personal{font-size:15px;line-height:1.6;color:#6a6a6a;margin-bottom:25px;padding:18px 18px 18px 32px;background:linear-gradient(135deg,var(--bg-soft),#fff);border-radius:10px;position:relative}
.recipe-personal::before{content:'\"';position:absolute;left:12px;top:14px;font-size:24px;color:var(--accent-soft);font-family:Georgia,serif;opacity:.5}

.recipe-block{margin-bottom:25px}
.recipe-block h4{font-size:12px;letter-spacing:1.5px;text-transform:uppercase;color:var(--secondary-warm);margin-bottom:12px;font-weight:500}

.ingredients-list{list-style:none}
.ingredients-list li{display:flex;align-items:center;margin-bottom:10px;font-size:15px;color:var(--text-main);padding:5px 0}
.ingredient-checkbox{width:20px;height:20px;border:1.5px solid var(--accent-soft);border-radius:4px;margin-right:12px;flex-shrink:0;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:.2s}
.ingredient-checkbox.checked{background:var(--success);border-color:var(--success)}
.ingredient-checkbox.checked::after{content:'✓';color:#fff;font-size:12px;font-weight:700}

.steps-list{list-style:none;counter-reset:step-counter}
.steps-list li{counter-increment:step-counter;padding-left:36px;position:relative;margin-bottom:12px;font-size:15px;line-height:1.5;color:var(--text-main);display:flex;align-items:flex-start}
.steps-list li::before{content:counter(step-counter);position:absolute;left:0;top:2px;width:24px;height:24px;background:linear-gradient(135deg,var(--accent-soft),#c2a491);color:#fff;border-radius:5px;font-size:13px;font-weight:500;display:flex;align-items:center;justify-content:center}

/* Финал */
.final{text-align:center;padding:50px 20px;background:linear-gradient(135deg,#fff,var(--bg-soft))}
.final-quote{font-family:Georgia,'Times New Roman',serif;font-size:24px;line-height:1.4;color:var(--primary-warm);margin-bottom:40px;font-weight:300}
.achievements{display:flex;gap:20px;justify-content:center;margin-bottom:30px}
.achievement{display:flex;flex-direction:column;align-items:center;gap:8px}
.achievement-icon{width:44px;height:44px;background:var(--accent-light);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:20px}
.achievement-label{font-size:10px;color:var(--text-soft);letter-spacing:.5px}
.final-hashtag{font-size:14px;color:var(--accent-soft);letter-spacing:2px;margin-bottom:30px}

/* Плавающие кнопки */
.back-to-top{position:fixed;bottom:20px;right:20px;width:48px;height:48px;background:var(--accent-soft);border-radius:50%;display:none;align-items:center;justify-content:center;box-shadow:0 4px 12px rgba(0,0,0,.15);z-index:100;cursor:pointer;transition:.3s}
.back-to-top.visible{display:flex}
.back-to-top:active{transform:scale(.95)}
.back-to-top svg{width:24px;height:24px;fill:#fff}

.share-button{position:fixed;bottom:80px;right:20px;width:48px;height:48px;background:var(--success);border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px rgba(0,0,0,.15);z-index:100;cursor:pointer;transition:.3s}
.share-button:active{transform:scale(.95)}
.share-button svg{width:24px;height:24px;fill:#fff}

/* Калорийность */
.calories-counter{position:fixed;bottom:140px;right:20px;background:#fff;border-radius:25px;padding:10px 15px;box-shadow:0 4px 12px rgba(0,0,0,.15);z-index:100;font-size:14px;color:var(--primary-warm);display:flex;align-items:center;gap:8px}
.calories-counter.hidden{display:none}
.calories-icon{width:20px;height:20px;background:var(--energy);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px}

/* Таймер */
.timer-widget{position:fixed;top:70px;left:50%;transform:translateX(-50%);background:#fff;border-radius:20px;padding:12px 20px;box-shadow:0 4px 16px rgba(0,0,0,.2);z-index:99;display:none;min-width:180px;border:2px solid var(--accent-soft)}
.timer-widget.active{display:block}
.timer-display{font-size:28px;font-weight:600;color:var(--primary-warm);text-align:center;margin-bottom:10px;font-family:-apple-system,BlinkMacSystemFont,'SF Mono',monospace}
.timer-controls{display:flex;gap:8px;justify-content:center}
.timer-btn{padding:8px 16px;background:var(--accent-soft);border:none;border-radius:10px;color:#fff;font-size:13px;font-weight:500;cursor:pointer}
.timer-btn:active{transform:scale(.95)}
.timer-btn.stop{background:#e74c3c}

/* Мелкая адаптация */
@media (max-width:380px){
  .cover-name{font-size:42px}
  .recipe-title{font-size:22px}
  .letter-content{font-size:18px}
  .recipe-meta{flex-wrap:wrap}
}

/* Печать */
@page{size:A4;margin:12mm}
@media print{
  body{background:#fff!important}
  .container{max-width:none;background:#fff}
  .nav-header,.back-to-top,.share-button,.calories-counter,.timer-widget{display:none!important}
  .section{padding:0;border:0}
  .recipe{break-inside:avoid;page-break-inside:avoid;margin:0 0 10mm 0}
  .cover{page-break-after:always}
  .final{page-break-before:always}
}
</style>
</head>
<body>

<div class="container">

<!-- Навигация -->
<div class="nav-header">
  <div class="nav-toggle" onclick="toggleNav()" aria-expanded="false" aria-controls="navContent" role="button" tabindex="0">
    <div class="nav-title">Книга рецептов</div>
    <div class="nav-icon" id="navIcon"><span></span><span></span></div>
  </div>
  <div class="nav-content" id="navContent">
    <div class="nav-list">
      <div class="nav-item" role="button" tabindex="0" onclick="scrollToRecipe('recipe-1')"><span class="nav-recipe-name">Яйца-пашот с авокадо</span><span class="nav-badge">Завтрак</span></div>
      <div class="nav-item" role="button" tabindex="0" onclick="scrollToRecipe('recipe-2')"><span class="nav-recipe-name">Гречневая каша с яйцом</span><span class="nav-badge">Завтрак</span></div>
      <div class="nav-item" role="button" tabindex="0" onclick="scrollToRecipe('recipe-3')"><span class="nav-recipe-name">Омлет на пару</span><span class="nav-badge">Завтрак</span></div>
      <div class="nav-item" role="button" tabindex="0" onclick="scrollToRecipe('recipe-4')"><span class="nav-recipe-name">Овощной суп с чечевицей</span><span class="nav-badge">Обед</span></div>
      <div class="nav-item" role="button" tabindex="0" onclick="scrollToRecipe('recipe-5')"><span class="nav-recipe-name">Индейка с брокколи</span><span class="nav-badge">Обед</span></div>
      <div class="nav-item" role="button" tabindex="0" onclick="scrollToRecipe('recipe-6')"><span class="nav-recipe-name">Рыба в фольге</span><span class="nav-badge">Обед</span></div>
      <div class="nav-item" role="button" tabindex="0" onclick="scrollToRecipe('recipe-7')"><span class="nav-recipe-name">Крем-суп из капусты</span><span class="nav-badge">Ужин</span></div>
      <div class="nav-item" role="button" tabindex="0" onclick="scrollToRecipe('recipe-8')"><span class="nav-recipe-name">Салат с яйцом</span><span class="nav-badge">Ужин</span></div>
      <div class="nav-item" role="button" tabindex="0" onclick="scrollToRecipe('recipe-9')"><span class="nav-recipe-name">Яичница со шпинатом</span><span class="nav-badge">Ужин</span></div>
    </div>
  </div>
</div>

<!-- Обложка -->
<div class="section cover">
  <div class="cover-month">Август 2025</div>
  <div class="cover-name">Маргарита</div>
  <div class="cover-subtitle">9 персональных рецептов</div>
  <div class="progress-dots"><div class="progress-dot active"></div><div class="progress-dot"></div><div class="progress-dot"></div><div class="progress-dot"></div></div>
  <div class="cover-curator">Wellness by Dr. Svetlana</div>
</div>

<!-- Письмо -->
<div class="section letter">
  <div class="letter-icon">💌</div>
  <div class="letter-content">
    <p>Дорогая Маргарита,</p>
    <p>Эта книга создана специально для вас. Каждый рецепт подобран с учётом вашего здоровья, предпочтений и целей. Здесь нет случайных блюд — только то, что поддержит ваш организм именно сейчас.</p>
    <p>9 рецептов на следующий месяц — это ваша кулинарная основа. Завтраки для энергичного утра, обеды для продуктивного дня, ужины для восстановления.</p>
    <p>Готовьте их в любом порядке, миксуйте, адаптируйте под настроение. К каждому рецепту я добавила личную рекомендацию — почему это блюдо важно именно для вас.</p>
    <p>Помните: еда — это не ограничения, а забота. Готовьте с удовольствием, без спешки. Наслаждайтесь процессом и результатом.</p>
    <div class="letter-signature">Ваша Светлана</div>
  </div>
</div>

<!-- Рецепт 1 -->
<div class="recipe" id="recipe-1">
  <div class="recipe-image"><img src="Image/brk_001.png" loading="lazy" alt="Яйца-пашот с авокадо и зеленью"></div>
  <div class="recipe-content">
    <h3 class="recipe-title">Яйца-пашот с авокадо и зеленью</h3>
    <div class="recipe-meta">
      <span>15 минут</span><span>•</span><span>1 порция</span><span>•</span><span class="recipe-calories" data-calories="280">280 ккал</span>
      <span class="timer-button" onclick="startTimer(15)">⏱ Таймер</span>
    </div>
    <div class="recipe-actions"></div>
    <div class="health-benefits"><div class="benefit-tag">Поддержка сердца</div><div class="benefit-tag">Полезные жиры</div></div>
    <div class="recipe-personal">Маргарита, этот завтрак идеально подходит для поддержки вашего сердца благодаря полезным жирам авокадо. Яйца дадут сытость до обеда, а зелень поможет пищеварению. Готовьте яйца всмятку — так они легче усваиваются.</div>
    <div class="recipe-block"><h4>Ингредиенты</h4>
      <ul class="ingredients-list">
        <li><span class="ingredient-checkbox" data-recipe="1"></span>Яйцо — 2 шт.</li>
        <li><span class="ingredient-checkbox" data-recipe="1"></span>Авокадо — ½ шт.</li>
        <li><span class="ingredient-checkbox" data-recipe="1"></span>Смесь зелени — 1 горсть</li>
        <li><span class="ingredient-checkbox" data-recipe="1"></span>Соль — по вкусу</li>
        <li><span class="ingredient-checkbox" data-recipe="1"></span>Лимонный сок — по вкусу</li>
      </ul>
    </div>
    <div class="recipe-block"><h4>Приготовление</h4>
      <ol class="steps-list">
        <li>Сварите яйца-пашот в подкисленной воде.</li>
        <li>Очистите авокадо, нарежьте ломтиками и сбрызните лимонным соком.</li>
        <li>Разложите зелень, сверху выложите авокадо и яйца, посолите.</li>
      </ol>
    </div>
  </div>
</div>

<!-- Рецепт 2 -->
<div class="recipe" id="recipe-2">
  <div class="recipe-image"><img src="Image/brk_002.png" loading="lazy" alt="Тёплая гречневая каша с яйцом и зеленью"></div>
  <div class="recipe-content">
    <h3 class="recipe-title">Тёплая гречневая каша с яйцом и зеленью</h3>
    <div class="recipe-meta">
      <span>20 минут</span><span>•</span><span>1 порция</span><span>•</span><span class="recipe-calories" data-calories="320">320 ккал</span>
      <span class="timer-button" onclick="startTimer(20)">⏱ Таймер</span>
    </div>
    <div class="recipe-actions"></div>
    <div class="health-benefits"><div class="benefit-tag">Поддержка ЖКТ</div><div class="benefit-tag">Клетчатка</div><div class="benefit-tag">Сытость</div></div>
    <div class="recipe-personal">Гречка — ваш помощник в борьбе с запорами и нормализации стула. Это блюдо особенно полезно для вашего ЖКТ. Добавляйте больше зелени — петрушка и укроп улучшат пищеварение.</div>
    <div class="recipe-block"><h4>Ингредиенты</h4>
      <ul class="ingredients-list">
        <li><span class="ingredient-checkbox" data-recipe="2"></span>Гречка — 3 ст.л.</li>
        <li><span class="ingredient-checkbox" data-recipe="2"></span>Яйцо — 1 шт.</li>
        <li><span class="ingredient-checkbox" data-recipe="2"></span>Свежая зелень — 1 ст.л.</li>
        <li><span class="ingredient-checkbox" data-recipe="2"></span>Соль — щепотка</li>
      </ul>
    </div>
    <div class="recipe-block"><h4>Приготовление</h4>
      <ol class="steps-list">
        <li>Отварите промытую гречку до мягкости (15 минут).</li>
        <li>Сварите яйцо всмятку или вкрутую.</li>
        <li>Выложите кашу в тарелку, нарежьте яйцо, посыпьте зеленью и посолите.</li>
      </ol>
    </div>
  </div>
</div>

<!-- Рецепт 3 -->
<div class="recipe" id="recipe-3">
  <div class="recipe-image"><img src="Image/brk_003.png" loading="lazy" alt="Омлет на пару с зеленью"></div>
  <div class="recipe-content">
    <h3 class="recipe-title">Омлет на пару с зеленью</h3>
    <div class="recipe-meta">
      <span>15 минут</span><span>•</span><span>1 порция</span><span>•</span><span class="recipe-calories" data-calories="220">220 ккал</span>
      <span class="timer-button" onclick="startTimer(15)">⏱ Таймер</span>
    </div>
    <div class="recipe-actions"></div>
    <div class="health-benefits"><div class="benefit-tag">Легкий белок</div><div class="benefit-tag">Щадящий для ЖКТ</div></div>
    <div class="recipe-personal">Нежный паровой омлет не раздражает желудок при вашем гастрите. Готовится быстро и даёт легкий белок на утро. Попробуйте добавить немного укропа — он поможет при вздутии.</div>
    <div class="recipe-block"><h4>Ингредиенты</h4>
      <ul class="ingredients-list">
        <li><span class="ingredient-checkbox" data-recipe="3"></span>Яйцо — 2 шт.</li>
        <li><span class="ingredient-checkbox" data-recipe="3"></span>Молоко — 2 ст.л.</li>
        <li><span class="ingredient-checkbox" data-recipe="3"></span>Соль — щепотка</li>
        <li><span class="ingredient-checkbox" data-recipe="3"></span>Свежая зелень — 1 ст.л.</li>
      </ul>
    </div>
    <div class="recipe-block"><h4>Приготовление</h4>
      <ol class="steps-list">
        <li>Взбейте яйца с молоком и солью.</li>
        <li>Добавьте рубленую зелень.</li>
        <li>Перелейте смесь в форму и готовьте на пару 10–12 минут.</li>
      </ol>
    </div>
  </div>
</div>

<!-- Рецепт 4 -->
<div class="recipe" id="recipe-4">
  <div class="recipe-image"></div>
  <div class="recipe-content">
    <h3 class="recipe-title">Овощной суп с чечевицей</h3>
    <div class="recipe-meta">
      <span>25 минут</span><span>•</span><span>2 порции</span><span>•</span><span class="recipe-calories" data-calories="320">320 ккал</span>
      <span class="timer-button" onclick="startTimer(25)">⏱ Таймер</span>
    </div>
    <div class="recipe-actions"></div>
    <div class="health-benefits"><div class="benefit-tag">Снижение холестерина</div><div class="benefit-tag">Поддержка ЖКТ</div><div class="benefit-tag">Противовоспалительное</div></div>
    <div class="recipe-personal">При вашем повышенном холестерине чечевица — отличный выбор. Она снижает холестерин и помогает работе кишечника. Куркума в супе обладает противовоспалительным действием для суставов.</div>
    <div class="recipe-block"><h4>Ингредиенты</h4>
      <ul class="ingredients-list">
        <li><span class="ingredient-checkbox" data-recipe="4"></span>Чечевица — 2 ст.л.</li>
        <li><span class="ingredient-checkbox" data-recipe="4"></span>Морковь — 1 шт.</li>
        <li><span class="ingredient-checkbox" data-recipe="4"></span>Лук — 1 шт.</li>
        <li><span class="ingredient-checkbox" data-recipe="4"></span>Кабачок — 1 шт.</li>
        <li><span class="ingredient-checkbox" data-recipe="4"></span>Оливковое масло — 1 ч.л.</li>
        <li><span class="ingredient-checkbox" data-recipe="4"></span>Куркума, кориандр — по щепотке</li>
        <li><span class="ingredient-checkbox" data-recipe="4"></span>Вода — 1 л</li>
      </ul>
    </div>
    <div class="recipe-block"><h4>Приготовление</h4>
      <ol class="steps-list">
        <li>Обжарьте лук и морковь в масле 2 минуты.</li>
        <li>Добавьте кубики кабачка, чечевицу и воду.</li>
        <li>Приправьте специями, варите 20–25 минут до мягкости.</li>
      </ol>
    </div>
  </div>
</div>

<!-- Рецепт 5 -->
<div class="recipe" id="recipe-5">
  <div class="recipe-image"></div>
  <div class="recipe-content">
    <h3 class="recipe-title">Индейка с тушёной брокколи</h3>
    <div class="recipe-meta">
      <span>20 минут</span><span>•</span><span>1 порция</span><span>•</span><span class="recipe-calories" data-calories="350">350 ккал</span>
      <span class="timer-button" onclick="startTimer(20)">⏱ Таймер</span>
    </div>
    <div class="recipe-actions"></div>
    <div class="health-benefits"><div class="benefit-tag">Диетическое мясо</div><div class="benefit-tag">Клетчатка</div><div class="benefit-tag">Энергия</div></div>
    <div class="recipe-personal">Маргарита, индейка — самое диетическое мясо для вашего сердца. Брокколи богата клетчаткой и поможет с проблемой запоров. Тушение — идеальный способ готовки при холецистите.</div>
    <div class="recipe-block"><h4>Ингредиенты</h4>
      <ul class="ingredients-list">
        <li><span class="ingredient-checkbox" data-recipe="5"></span>Филе бедра индейки — 150 г</li>
        <li><span class="ingredient-checkbox" data-recipe="5"></span>Брокколи — 100 г</li>
        <li><span class="ingredient-checkbox" data-recipe="5"></span>Лук — ½ шт.</li>
        <li><span class="ingredient-checkbox" data-recipe="5"></span>Оливковое масло — 1 ч.л.</li>
        <li><span class="ingredient-checkbox" data-recipe="5"></span>Соль, перец — по вкусу</li>
      </ul>
    </div>
    <div class="recipe-block"><h4>Приготовление</h4>
      <ol class="steps-list">
        <li>Нарежьте индейку, обжарьте с луком 2 минуты.</li>
        <li>Добавьте 50 мл воды, тушите под крышкой 8 минут.</li>
        <li>Положите брокколи, готовьте ещё 7 минут до мягкости.</li>
      </ol>
    </div>
  </div>
</div>

<!-- Рецепт 6 -->
<div class="recipe" id="recipe-6">
  <div class="recipe-image"></div>
  <div class="recipe-content">
    <h3 class="recipe-title">Рыба в фольге с зеленью</h3>
    <div class="recipe-meta">
      <span>25 минут</span><span>•</span><span>1 порция</span><span>•</span><span class="recipe-calories" data-calories="320">320 ккал</span>
      <span class="timer-button" onclick="startTimer(25)">⏱ Таймер</span>
    </div>
    <div class="recipe-actions"></div>
    <div class="health-benefits"><div class="benefit-tag">Омега-3</div><div class="benefit-tag">Снижение ЛПНП</div><div class="benefit-tag">Поддержка сердца</div></div>
    <div class="recipe-personal">Рыба необходима для снижения вашего холестерина ЛПНП. Запекание в фольге сохраняет все полезные вещества. Лимон улучшит усвоение железа и придаст блюду свежесть.</div>
    <div class="recipe-block"><h4>Ингредиенты</h4>
      <ul class="ingredients-list">
        <li><span class="ingredient-checkbox" data-recipe="6"></span>Филе рыбы — 150 г</li>
        <li><span class="ingredient-checkbox" data-recipe="6"></span>Любые овощи — 100 г</li>
        <li><span class="ingredient-checkbox" data-recipe="6"></span>Зелень — 1 ст.л.</li>
        <li><span class="ingredient-checkbox" data-recipe="6"></span>Лимон — долька</li>
        <li><span class="ingredient-checkbox" data-recipe="6"></span>Соль, травы — по вкусу</li>
      </ul>
    </div>
    <div class="recipe-block"><h4>Приготовление</h4>
      <ol class="steps-list">
        <li>Выложите рыбу и овощи на фольгу, посыпьте зеленью.</li>
        <li>Сбрызните лимонным соком, добавьте травы.</li>
        <li>Запекайте 20 минут при 180°C.</li>
      </ol>
    </div>
  </div>
</div>

<!-- Рецепт 7 -->
<div class="recipe" id="recipe-7">
  <div class="recipe-image"></div>
  <div class="recipe-content">
    <h3 class="recipe-title">Крем-суп из цветной капусты</h3>
    <div class="recipe-meta">
      <span>20 минут</span><span>•</span><span>1 порция</span><span>•</span><span class="recipe-calories" data-calories="200">200 ккал</span>
      <span class="timer-button" onclick="startTimer(20)">⏱ Таймер</span>
    </div>
    <div class="recipe-actions"></div>
    <div class="health-benefits"><div class="benefit-tag">Легкий ужин</div><div class="benefit-tag">Поддержка ЖКТ</div><div class="benefit-tag">Улучшение сна</div></div>
    <div class="recipe-personal">Легкий ужин, который не нагрузит пищеварение перед сном. Цветная капуста мягко стимулирует работу кишечника. Такой суп поможет наладить ваш сон — не будет тяжести в желудке.</div>
    <div class="recipe-block"><h4>Ингредиенты</h4>
      <ul class="ingredients-list">
        <li><span class="ingredient-checkbox" data-recipe="7"></span>Цветная капуста — 150 г</li>
        <li><span class="ingredient-checkbox" data-recipe="7"></span>Лук — ½ шт.</li>
        <li><span class="ingredient-checkbox" data-recipe="7"></span>Вода или овощной бульон — 250 мл</li>
        <li><span class="ingredient-checkbox" data-recipe="7"></span>Оливковое масло — 1 ч.л.</li>
      </ul>
    </div>
    <div class="recipe-block"><h4>Приготовление</h4>
      <ol class="steps-list">
        <li>Отварите капусту и лук до мягкости.</li>
        <li>Пюрируйте блендером до кремовой консистенции.</li>
        <li>Добавьте масло перед подачей.</li>
      </ol>
    </div>
  </div>
</div>

<!-- Рецепт 8 -->
<div class="recipe" id="recipe-8">
  <div class="recipe-image"></div>
  <div class="recipe-content">
    <h3 class="recipe-title">Тёплый салат с яйцом и брокколи</h3>
    <div class="recipe-meta">
      <span>20 минут</span><span>•</span><span>1 порция</span><span>•</span><span class="recipe-calories" data-calories="220">220 ккал</span>
      <span class="timer-button" onclick="startTimer(20)">⏱ Таймер</span>
    </div>
    <div class="recipe-actions"></div>
    <div class="health-benefits"><div class="benefit-tag">Магний для сна</div><div class="benefit-tag">Триптофан</div><div class="benefit-tag">Легкий белок</div></div>
    <div class="recipe-personal">Этот салат даст вам магний из брокколи для улучшения сна. Яйцо содержит триптофан — предшественник мелатонина. Ешьте за 2–3 часа до сна для лучшего эффекта.</div>
    <div class="recipe-block"><h4>Ингредиенты</h4>
      <ul class="ingredients-list">
        <li><span class="ingredient-checkbox" data-recipe="8"></span>Брокколи — 100 г</li>
        <li><span class="ingredient-checkbox" data-recipe="8"></span>Яйцо — 1 шт.</li>
        <li><span class="ingredient-checkbox" data-recipe="8"></span>Листья салата — горсть</li>
        <li><span class="ingredient-checkbox" data-recipe="8"></span>Оливковое масло — 1 ч.л.</li>
        <li><span class="ingredient-checkbox" data-recipe="8"></span>Соль — щепотка</li>
      </ul>
    </div>
    <div class="recipe-block"><h4>Приготовление</h4>
      <ol class="steps-list">
        <li>Отварите брокколи 5 минут, яйцо вкрутую 8 минут.</li>
        <li>Смешайте тёплые брокколи, порезанное яйцо и салат, заправьте маслом.</li>
      </ol>
    </div>
  </div>
</div>

<!-- Рецепт 9 -->
<div class="recipe" id="recipe-9">
  <div class="recipe-image"></div>
  <div class="recipe-content">
    <h3 class="recipe-title">Яичница со шпинатом и зеленью</h3>
    <div class="recipe-meta">
      <span>10 минут</span><span>•</span><span>1 порция</span><span>•</span><span class="recipe-calories" data-calories="220">220 ккал</span>
      <span class="timer-button" onclick="startTimer(10)">⏱ Таймер</span>
    </div>
    <div class="recipe-actions"></div>
    <div class="health-benefits"><div class="benefit-tag">Магний</div><div class="benefit-tag">Улучшение сна</div><div class="benefit-tag">Быстрый ужин</div></div>
    <div class="recipe-personal">Маргарита, шпинат богат магнием, который поможет с вашей проблемой частых пробуждений. Легкий белковый ужин не перегрузит пищеварение. Готовьте минимально — так сохраните больше пользы.</div>
    <div class="recipe-block"><h4>Ингредиенты</h4>
      <ul class="ingredients-list">
        <li><span class="ingredient-checkbox" data-recipe="9"></span>Яйца — 2 шт.</li>
        <li><span class="ingredient-checkbox" data-recipe="9"></span>Шпинат — горсть</li>
        <li><span class="ingredient-checkbox" data-recipe="9"></span>Зелень — по вкусу</li>
        <li><span class="ingredient-checkbox" data-recipe="9"></span>Оливковое масло — 1 ч.л.</li>
        <li><span class="ingredient-checkbox" data-recipe="9"></span>Соль, перец — по вкусу</li>
      </ul>
    </div>
    <div class="recipe-block"><h4>Приготовление</h4>
      <ol class="steps-list">
        <li>Шпинат тушите на масле 1–2 минуты.</li>
        <li>Разбейте сверху яйца, посолите, готовьте под крышкой 4–5 минут.</li>
        <li>Подавайте с рубленой зеленью.</li>
      </ol>
    </div>
  </div>
</div>

<!-- Финальная страница -->
<div class="section final">
  <div class="final-quote">Еда — это любовь,<br>которую вы дарите себе<br>каждый день</div>
  <div class="achievements">
    <div class="achievement"><div class="achievement-icon">🎯</div><div class="achievement-label">Первый месяц</div></div>
    <div class="achievement"><div class="achievement-icon">💪</div><div class="achievement-label">Новые привычки</div></div>
    <div class="achievement"><div class="achievement-icon">✨</div><div class="achievement-label">Ваше здоровье</div></div>
  </div>
  <div class="final-hashtag">#вашwellness</div>
  <div style="margin-top:40px;font-size:12px;color:var(--text-soft)">
    С заботой о вашем здоровье,<br>
    <span style="font-family:Georgia,'Times New Roman',serif;font-size:18px;color:var(--secondary-warm);font-style:italic">Доктор Светлана</span>
  </div>
</div>

</div><!-- /.container -->

<!-- Наверх -->
<div class="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})" aria-label="Наверх">
  <svg viewBox="0 0 24 24"><path d="M7 14l5-5 5 5z"/></svg>
</div>

<!-- Поделиться -->
<div class="share-button" onclick="shareRecipeBook()" aria-label="Поделиться">
  <svg viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/></svg>
</div>

<!-- Счетчик калорий -->
<div class="calories-counter hidden" id="caloriesCounter">
  <div class="calories-icon">🔥</div>
  <span id="caloriesText">0 ккал</span>
</div>

<!-- Таймер -->
<div class="timer-widget" id="timerWidget" role="dialog" aria-live="polite">
  <div class="timer-display" id="timerDisplay">00:00</div>
  <div class="timer-controls">
    <button class="timer-btn" onclick="pauseTimer(this)">Пауза</button>
    <button class="timer-btn stop" onclick="stopTimer()">Стоп</button>
  </div>
</div>

<script>
// Навигация
function toggleNav(){
  const navContent=document.getElementById('navContent');
  const navIcon=document.getElementById('navIcon');
  const toggle=document.querySelector('.nav-toggle');
  const open=!navContent.classList.contains('active');
  navContent.classList.toggle('active');
  navIcon.classList.toggle('active');
  toggle.setAttribute('aria-expanded',open?'true':'false');
}
function scrollToRecipe(recipeId){
  const nav=document.getElementById('navContent');const icon=document.getElementById('navIcon');
  nav.classList.remove('active');icon.classList.remove('active');document.querySelector('.nav-toggle')?.setAttribute('aria-expanded','false');
  const el=document.getElementById(recipeId);if(!el) return;
  const y=el.getBoundingClientRect().top+window.pageYOffset;
  const offset=y-document.querySelector('.nav-header').offsetHeight;
  window.scrollTo({top:offset,behavior:'smooth'});
}
// Страховка для бургера
document.addEventListener('DOMContentLoaded',()=>{
  const t=document.querySelector('.nav-toggle');
  if(t){t.addEventListener('click',toggleNav);t.addEventListener('keydown',e=>{if(e.key==='Enter'||e.key===' '){e.preventDefault();toggleNav();}});}
});

// Ингредиенты и калории
let totalCalories=0;
function updateCaloriesCounter(){
  const counter=document.getElementById('caloriesCounter');
  const text=document.getElementById('caloriesText');
  if(totalCalories>0){counter.classList.remove('hidden');text.textContent=`${totalCalories} ккал`;}
  else{counter.classList.add('hidden');}
}
function sumCalories(){
  totalCalories=0;
  document.querySelectorAll('.recipe.selected').forEach(r=>{
    const el=r.querySelector('.recipe-calories');
    totalCalories+=Number(el?.dataset.calories||0);
  });
  updateCaloriesCounter();saveState();
}
function togglePlan(btn){
  const card=btn.closest('.recipe');
  card.classList.toggle('selected');
  const selected=card.classList.contains('selected');
  btn.textContent=selected?'✓ В меню':'＋ В меню';
  btn.classList.toggle('selected',selected);
  sumCalories();
}
Array.from(document.querySelectorAll('.ingredient-checkbox')).forEach(cb=>{
  cb.addEventListener('click',function(e){e.stopPropagation();this.classList.toggle('checked');saveState();});
});

// Таймер
let timerInterval,timerSeconds=0,timerPaused=false,audioContext;
function ensureAudio(){if(!audioContext) audioContext=new (window.AudioContext||window.webkitAudioContext)(); if(audioContext.state==='suspended') audioContext.resume();}
function startTimer(minutes){
  stopTimer();ensureAudio();timerSeconds=minutes*60;
  const w=document.getElementById('timerWidget');w.classList.add('active');updateTimerDisplay();
  timerInterval=setInterval(()=>{if(!timerPaused&&timerSeconds>0){timerSeconds--;updateTimerDisplay();if(timerSeconds===0){playTimerSound();stopTimer();}}},1000);
}
function updateTimerDisplay(){const d=document.getElementById('timerDisplay');const m=Math.floor(timerSeconds/60);const s=timerSeconds%60;d.textContent=`${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;}
function pauseTimer(btn){timerPaused=!timerPaused;if(btn) btn.textContent=timerPaused?'Продолжить':'Пауза';}
function stopTimer(){clearInterval(timerInterval);timerSeconds=0;timerPaused=false;document.getElementById('timerWidget').classList.remove('active');}
function playTimerSound(){
  ensureAudio();
  const ping=()=>{const o=audioContext.createOscillator(),g=audioContext.createGain();o.connect(g);g.connect(audioContext.destination);o.frequency.value=800;o.type='sine';g.gain.setValueAtTime(0.3,audioContext.currentTime);g.gain.exponentialRampToValueAtTime(0.01,audioContext.currentTime+0.2);o.start();o.stop(audioContext.currentTime+0.2);};
  ping();setTimeout(ping,300);setTimeout(ping,600);
  if(navigator.vibrate) navigator.vibrate([200,100,200,100,200]);
  showTimerNotification();
}
function showTimerNotification(){
  const n=document.createElement('div');
  n.style.cssText='position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;padding:30px;border-radius:20px;box-shadow:0 10px 40px rgba(0,0,0,.3);z-index:1000;text-align:center;min-width:280px;';
  n.innerHTML='<div style=\"font-size:48px;margin-bottom:15px;\">⏰</div><div style=\"font-size:20px;color:var(--primary-warm);font-weight:500;margin-bottom:20px;\">Время готовки истекло!</div><button onclick=\"this.parentElement.remove()\" style=\"background:var(--accent-soft);color:#fff;border:none;padding:12px 30px;border-radius:10px;font-size:16px;font-weight:500;cursor:pointer;\">Закрыть</button>';
  document.body.appendChild(n);setTimeout(()=>{n.remove();},5000);
}
// Плавающие кнопки
window.addEventListener('scroll',()=>{
  const b=document.querySelector('.back-to-top');
  if(window.scrollY>300) b.classList.add('visible'); else b.classList.remove('visible');
});

// Состояние (ингредиенты/выбранные/ккал)
function saveState(){
  const state={ingredients:[],selected:[],calories:totalCalories};
  document.querySelectorAll('.ingredient-checkbox.checked').forEach(cb=>{
    const recipeId=cb.dataset.recipe;
    const index=Array.from(cb.parentElement.parentElement.children).indexOf(cb.parentElement);
    state.ingredients.push(`${recipeId}-${index}`);
  });
  document.querySelectorAll('.recipe.selected').forEach(r=>state.selected.push(r.id));
  localStorage.setItem('recipeBook_state',JSON.stringify(state));
}
function restoreState(){
  const saved=localStorage.getItem('recipeBook_state');if(!saved) return;
  const state=JSON.parse(saved);
  (state.ingredients||[]).forEach(id=>{
    const [rid,idx]=id.split('-');const boxes=document.querySelectorAll(`.ingredient-checkbox[data-recipe=\"${rid}\"]`);if(boxes[idx]) boxes[idx].classList.add('checked');
  });
  (state.selected||[]).forEach(rid=>{
    const card=document.getElementById(rid);if(!card) return;card.classList.add('selected');const btn=card.querySelector('.add-to-plan');if(btn){btn.textContent='✓ В меню';btn.classList.add('selected');}
  });
  totalCalories=Number(state.calories||0);updateCaloriesCounter();
}

// Поделиться
function shareRecipeBook(){
  if(navigator.share){navigator.share({title:'Моя книга рецептов',text:'Персональная книга рецептов для здорового питания',url:window.location.href}).catch(()=>{});}
  else{navigator.clipboard.writeText(window.location.href).then(()=>alert('Ссылка скопирована!'));}
}

// Вставка кнопок под мета-блоки
function fixActionsRow(){
  document.querySelectorAll('.recipe').forEach(card=>{
    const meta=card.querySelector('.recipe-meta'); if(!meta) return;
    let actions=card.querySelector('.recipe-actions');
    if(!actions){ actions=document.createElement('div'); actions.className='recipe-actions'; meta.insertAdjacentElement('afterend',actions); }
    // перенести таймер в actions
    const timer=meta.querySelector('.timer-button'); if(timer && timer.parentElement!==actions) actions.appendChild(timer);
    // добавить +В меню, если нет
    if(!actions.querySelector('.add-to-plan')){
      const add=document.createElement('span'); add.className='add-to-plan'; add.textContent='＋ В меню';
      add.addEventListener('click',(e)=>{e.stopPropagation();togglePlan(add);});
      actions.appendChild(add);
    }
  });
}

// Fallback для изображений (прячем только <img>, полоски остаются)
function attachImageFallbacks(){
  document.querySelectorAll('.recipe-image img').forEach(img=>{
    img.addEventListener('error',()=>{img.style.display='none';});
  });
}

// Инициализация
document.addEventListener('DOMContentLoaded',()=>{
  attachImageFallbacks();
  restoreState();
  fixActionsRow(); // кнопки в нужном месте
});
</script>

</body>
</html>
